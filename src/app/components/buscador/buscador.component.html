<!-- Barra de búsqueda y categoría -->
<div class="buscador">
  <input
    type="text"
    placeholder="🔍 Busca libros..."
    [(ngModel)]="termino"
    (input)="onInputChange(termino)"
    aria-label="Buscar libros"
  />

  <!-- Filtro de categoría -->
  <select [(ngModel)]="categoriaSeleccionada" (change)="onCategoriaChange(categoriaSeleccionada)">
    <option value="">📂 Todas las categorías</option>
    <option value="Fiction">📖 Ficción</option>
    <option value="Science">🔬 Ciencia</option>
    <option value="History">📜 Historia</option>
    <option value="Biography">🧑‍🏫 Biografía</option>
    <option value="Art">🎨 Arte</option>
    <option value="Technology">💻 Tecnología</option>
    <!-- Puedes agregar más categorías -->
  </select>
</div>

<!-- Grid de resultados -->
<div class="grid-libros">
  <div
    class="card libro-card"
    *ngFor="let libro of libros; let i = index"
    (click)="abrirChat(libro)"
  >
    <img
      [src]="libro.volumeInfo?.imageLinks?.thumbnail || 'https://via.placeholder.com/128x200?text=No+Image'"
      [alt]="libro.volumeInfo?.title || 'Libro sin título'"
      class="portada"
    />
    <div class="info">
      <h3 class="titulo">{{ libro.volumeInfo?.title }}</h3>
    </div>
  </div>
</div>

<!-- Indicador de carga -->
<div *ngIf="cargando" class="loader">📚 Buscando libros...</div>

<!-- Mensaje si no hay resultados -->
<div *ngIf="!cargando && libros.length === 0" class="mensaje-vacio">
  ❌ No se encontraron libros con ese término y categoría.
</div>
