<!-- Barra de bÃºsqueda -->
<div class="buscador">
  <input
    type="text"
    placeholder="ğŸ” Busca libros..."
    [(ngModel)]="termino"
    (input)="onInputChange(termino)"
    aria-label="Buscar libros"
  />
</div>

<!-- Grid de resultados -->
<div class="grid-libros">
  <div
    class="card libro-card"
    *ngFor="let libro of libros; let i = index"
    (click)="abrirChat(libro)"
  >
    <img
      [src]="libro.volumeInfo?.imageLinks?.thumbnail || 'https://via.placeholder.com/128x200?text=No+Image'"
      [alt]="libro.volumeInfo?.title || 'Libro sin tÃ­tulo'"
      class="portada"
    />
    <div class="info">
      <h3 class="titulo">{{ libro.volumeInfo?.title }}</h3>
    </div>
  </div>
</div>

<!-- Indicador de carga -->
<div *ngIf="cargando" class="loader">ğŸ“š Buscando libros...</div>

<!-- Mensaje si no hay resultados -->
<div *ngIf="!cargando && libros.length === 0" class="mensaje-vacio">
  âŒ No se encontraron libros con ese tÃ©rmino.
</div>

<!-- Componente del chat con IA (solo si estÃ¡ abierto) -->
<app-chat-ia
  *ngIf="chatAbierto"
  [libro]="libroSeleccionado"
  [visible]="chatAbierto"
  [cerrarCallback]="cerrarChat"
></app-chat-ia>
